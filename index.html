<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WFM Scheduling Tool | Customer Operations</title>
  <style>
    :root {
      --primary-color: #3b82f6;
      --secondary-color: #1d4ed8;
      --border-color: #e5e7eb;
      --light-bg: #f8fafc;
      --card-bg: #FFFFFF;
      --text-color: #1f2937;
      --text-light: #6b7280;
      --warn: #f59e0b;
      --bad: #dc2626;
      --good: #16a34a;
      --schedule-inbound: #3b82f6;
      --schedule-break: #f59e0b;
      --schedule-lunch: #dc2626;
      --schedule-meeting: #8b5cf6;
      --schedule-coaching: #10b981;
      --schedule-vacation: #94a3b8;
      --schedule-training: #6366f1;
      --schedule-onqueue: #3b82f6;
      --schedule-available: #dbeafe;
      --schedule-unavailable: #f3f4f6;
    }
    
    body, h1, h2, h3, h4, h5, h6, p, div, span, label, button, input, select, textarea, th, td, li, ul, ol {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    
    body {
      margin: 0;
      padding: 20px;
      background: var(--light-bg);
      color: var(--text-color);
      min-height: 100vh;
    }
    
    .container {
      max-width: 1600px;
      margin: 0 auto;
    }

    /* Header */
    .header {
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 2px solid var(--border-color);
    }
    
    .breadcrumb {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 8px;
    }
    
    .breadcrumb a {
      color: var(--primary-color);
      text-decoration: none;
    }
    
    .breadcrumb a:hover {
      text-decoration: underline;
    }
    
    .page-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    
    .page-title h1 {
      margin: 0;
      font-size: 28px;
      font-weight: 700;
      color: var(--text-color);
    }
    
    .page-subtitle {
      color: var(--text-light);
      font-size: 16px;
      margin-bottom: 20px;
    }

    /* Tabs */
    .tabs-container {
      margin-bottom: 24px;
    }
    
    .tabs {
      display: flex;
      border-bottom: 2px solid var(--border-color);
      margin-bottom: 24px;
    }
    
    .tab {
      padding: 12px 24px;
      background: none;
      border: none;
      font-size: 16px;
      font-weight: 600;
      color: var(--text-light);
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      border-bottom: 2px solid transparent;
      margin-bottom: -2px;
    }
    
    .tab:hover {
      color: var(--primary-color);
    }
    
    .tab.active {
      color: var(--primary-color);
      border-bottom-color: var(--primary-color);
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }

    /* Main Content */
    .main-content {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 24px;
    }
    
    @media (max-width: 1200px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }

    /* Sidebar */
    .sidebar {
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,.08);
    }
    
    .sidebar-section {
      margin-bottom: 32px;
    }
    
    .sidebar-section:last-child {
      margin-bottom: 0;
    }
    
    .sidebar-section h3 {
      margin: 0 0 16px 0;
      font-size: 16px;
      font-weight: 600;
      color: var(--text-color);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .agent-count {
      background: var(--primary-color);
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }

    /* Agent List */
    .agent-list {
      max-height: 500px;
      overflow-y: auto;
    }
    
    .agent-item {
      padding: 12px;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      margin-bottom: 8px;
      background: white;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .agent-item:hover {
      border-color: var(--primary-color);
      background: var(--schedule-available);
    }
    
    .agent-item.selected {
      border-color: var(--primary-color);
      background: var(--schedule-available);
      box-shadow: 0 0 0 1px var(--primary-color);
    }
    
    .agent-name {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-color);
    }
    
    .agent-hours {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--text-light);
    }
    
    .agent-hour {
      text-align: center;
    }
    
    .hour-label {
      font-size: 11px;
      color: var(--text-light);
    }
    
    .hour-value {
      font-weight: 600;
      color: var(--text-color);
    }

    /* Schedule View */
    .schedule-view {
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,.08);
    }

    /* Schedule Header */
    .schedule-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border-color);
      background: var(--light-bg);
    }
    
    .schedule-date {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }
    
    .date-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .date-display {
      font-size: 20px;
      font-weight: 700;
      color: var(--text-color);
    }
    
    .day-indicator {
      background: var(--primary-color);
      color: white;
      padding: 4px 12px;
      border-radius: 16px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .date-navigation {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .nav-btn {
      padding: 8px 16px;
      border: 1px solid var(--border-color);
      background: white;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
    }
    
    .nav-btn:hover {
      border-color: var(--primary-color);
      color: var(--primary-color);
    }
    
    .nav-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    /* Interval Selector */
    .interval-selector {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .interval-buttons {
      display: flex;
      gap: 4px;
      background: var(--light-bg);
      border-radius: 6px;
      padding: 2px;
    }
    
    .interval-btn {
      padding: 6px 12px;
      border: none;
      background: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-light);
      transition: all 0.2s;
    }
    
    .interval-btn:hover {
      background: rgba(59, 130, 246, 0.1);
    }
    
    .interval-btn.active {
      background: var(--primary-color);
      color: white;
    }

    /* Schedule Grid */
    .schedule-grid-container {
      position: relative;
      overflow-x: auto;
    }
    
    .schedule-grid {
      display: grid;
      grid-template-columns: 200px repeat(48, 60px);
      min-width: 3200px;
      background: white;
    }

    /* Time Headers */
    .time-header {
      position: sticky;
      left: 0;
      z-index: 20;
      background: white;
      border-right: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
    }
    
    .time-header-content {
      padding: 12px;
      font-weight: 600;
      color: var(--text-color);
      background: white;
      position: sticky;
      left: 0;
    }
    
    .hour-header {
      grid-column: span 4;
      background: var(--light-bg);
      border-right: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
      padding: 12px 8px;
      text-align: center;
      font-weight: 600;
      color: var(--text-color);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    
    .half-hour-header {
      grid-column: span 2;
      background: white;
      border-right: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
      padding: 8px 4px;
      text-align: center;
      font-size: 12px;
      color: var(--text-light);
      position: sticky;
      top: 48px;
      z-index: 10;
    }

    /* Agent Rows */
    .agent-row {
      display: contents;
    }
    
    .agent-name-cell {
      position: sticky;
      left: 0;
      z-index: 15;
      background: white;
      border-right: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
      padding: 12px;
      font-weight: 600;
      color: var(--text-color);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .agent-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }
    
    /* Schedule Cells */
    .schedule-cell {
      border-right: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
      padding: 2px;
      min-height: 48px;
      position: relative;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .schedule-cell:hover {
      background: rgba(59, 130, 246, 0.05);
      z-index: 5;
    }
    
    /* Activity Blocks */
    .activity-block {
      height: 100%;
      border-radius: 4px;
      padding: 8px 4px;
      font-size: 11px;
      font-weight: 600;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      border: 1px solid transparent;
      transition: all 0.2s;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    .activity-block:hover {
      filter: brightness(1.1);
      transform: scale(1.02);
      z-index: 10;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .activity-onqueue {
      background: linear-gradient(135deg, var(--schedule-inbound), #2563eb);
      border-color: #2563eb;
    }
    
    .activity-break {
      background: linear-gradient(135deg, var(--schedule-break), #d97706);
      border-color: #d97706;
    }
    
    .activity-lunch {
      background: linear-gradient(135deg, var(--schedule-lunch), #b91c1c);
      border-color: #b91c1c;
    }
    
    .activity-meeting {
      background: linear-gradient(135deg, var(--schedule-meeting), #7c3aed);
      border-color: #7c3aed;
    }
    
    .activity-coaching {
      background: linear-gradient(135deg, var(--schedule-coaching), #0d9488);
      border-color: #0d9488;
    }
    
    .activity-training {
      background: linear-gradient(135deg, var(--schedule-training), #4f46e5);
      border-color: #4f46e5;
    }
    
    .activity-vacation {
      background: linear-gradient(135deg, var(--schedule-vacation), #64748b);
      border-color: #64748b;
    }
    
    .activity-unavailable {
      background: var(--schedule-unavailable);
      color: var(--text-light);
    }

    /* Timeline Indicators */
    .current-time {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--bad);
      z-index: 30;
      pointer-events: none;
    }
    
    .current-time::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -3px;
      width: 8px;
      height: 8px;
      background: var(--bad);
      border-radius: 50%;
    }

    /* Legend */
    .schedule-legend {
      padding: 20px 24px;
      border-top: 1px solid var(--border-color);
      background: var(--light-bg);
    }
    
    .legend-title {
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--text-color);
    }
    
    .legend-items {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
    }
    
    .legend-label {
      font-size: 13px;
      color: var(--text-color);
    }

    /* Action Bar */
    .action-bar {
      padding: 20px 24px;
      border-top: 1px solid var(--border-color);
      background: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .action-buttons {
      display: flex;
      gap: 12px;
    }
    
    .primary-btn {
      padding: 10px 20px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .primary-btn:hover {
      background: var(--secondary-color);
      transform: translateY(-1px);
    }
    
    .secondary-btn {
      padding: 10px 20px;
      background: white;
      color: var(--primary-color);
      border: 1px solid var(--primary-color);
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .secondary-btn:hover {
      background: var(--light-bg);
    }
    
    .publish-info {
      font-size: 14px;
      color: var(--text-light);
    }
    
    .publish-date {
      color: var(--good);
      font-weight: 600;
    }

    /* Activity Editor */
    .activity-editor {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .editor-modal {
      background: white;
      border-radius: 8px;
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .editor-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .editor-header h3 {
      margin: 0;
      font-size: 18px;
      color: var(--text-color);
    }
    
    .editor-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-light);
    }
    
    .editor-body {
      padding: 24px;
    }
    
    .activity-options {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
      margin: 20px 0;
    }
    
    .activity-option {
      padding: 12px;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      background: white;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    
    .activity-option:hover {
      border-color: var(--primary-color);
      transform: translateY(-2px);
    }
    
    .activity-option.selected {
      border-color: var(--primary-color);
      background: var(--schedule-available);
    }
    
    .duration-selector {
      margin: 20px 0;
    }
    
    .duration-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }
    
    .duration-btn {
      padding: 8px 12px;
      border: 1px solid var(--border-color);
      background: white;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .duration-btn:hover {
      border-color: var(--primary-color);
    }
    
    .duration-btn.selected {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    /* Stats Bar */
    .stats-bar {
      display: flex;
      gap: 24px;
      padding: 16px 24px;
      background: var(--light-bg);
      border-bottom: 1px solid var(--border-color);
    }
    
    .stat-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--text-color);
    }
    
    .stat-label {
      font-size: 12px;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--primary-color);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--secondary-color);
    }

    /* Responsive */
    @media (max-width: 1400px) {
      .schedule-grid {
        grid-template-columns: 180px repeat(48, 50px);
      }
    }
    
    @media (max-width: 768px) {
      body {
        padding: 12px;
      }
      
      .main-content {
        grid-template-columns: 1fr;
      }
      
      .schedule-grid {
        grid-template-columns: 150px repeat(24, 60px);
      }
      
      .half-hour-header {
        display: none;
      }
      
      .hour-header {
        grid-column: span 2;
      }
      
      .stats-bar {
        flex-wrap: wrap;
        gap: 16px;
      }
      
      .action-bar {
        flex-direction: column;
        gap: 16px;
        align-items: stretch;
      }
      
      .action-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="breadcrumb">
        <a href="#">Schedules</a> / <a href="#">Customer Operations</a> / <span>Residential</span>
      </div>
      <div class="page-title">
        <h1>January 26, 2026</h1>
      </div>
      <div class="page-subtitle">
        Customer Service - Total Agents: <strong>9</strong>
      </div>
    </div>

    <!-- Tabs -->
    <div class="tabs-container">
      <div class="tabs">
        <button class="tab active" data-tab="schedule">Schedule View</button>
        <button class="tab" data-tab="agents">Agent Management</button>
        <button class="tab" data-tab="reports">Reports</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-section">
          <h3>Agents <span class="agent-count">9</span></h3>
          <div class="agent-list" id="agentList">
            <!-- Agent items will be populated by JavaScript -->
          </div>
        </div>
        
        <div class="sidebar-section">
          <h3>Filters</h3>
          <div class="filters">
            <div style="margin-bottom: 12px;">
              <label style="display: block; margin-bottom: 4px; font-size: 14px; color: var(--text-color);">Activity Type</label>
              <select style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                <option value="all">All Activities</option>
                <option value="onqueue">On Queue</option>
                <option value="break">Break</option>
                <option value="lunch">Lunch</option>
                <option value="meeting">Meeting</option>
              </select>
            </div>
            
            <div style="margin-bottom: 12px;">
              <label style="display: block; margin-bottom: 4px; font-size: 14px; color: var(--text-color);">Shift</label>
              <select style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                <option value="all">All Shifts</option>
                <option value="morning">Morning (7am-3pm)</option>
                <option value="afternoon">Afternoon (3pm-11pm)</option>
                <option value="night">Night (11pm-7am)</option>
              </select>
            </div>
            
            <div>
              <label style="display: block; margin-bottom: 4px; font-size: 14px; color: var(--text-color);">Status</label>
              <select style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                <option value="all">All Status</option>
                <option value="scheduled">Scheduled</option>
                <option value="actual">Actual</option>
                <option value="vacation">Vacation</option>
              </select>
            </div>
          </div>
        </div>
        
        <div class="sidebar-section">
          <h3>Statistics</h3>
          <div class="stats-mini">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="font-size: 14px; color: var(--text-color);">Coverage Rate:</span>
              <span style="font-weight: 600; color: var(--good);">92%</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="font-size: 14px; color: var(--text-color);">Overtime Hours:</span>
              <span style="font-weight: 600; color: var(--warn);">4.5</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span style="font-size: 14px; color: var(--text-color);">Unfilled Shifts:</span>
              <span style="font-weight: 600; color: var(--bad);">2</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Schedule View -->
      <div class="tab-content active" id="scheduleTab">
        <div class="schedule-view">
          <!-- Stats Bar -->
          <div class="stats-bar">
            <div class="stat-item">
              <div class="stat-value">9</div>
              <div class="stat-label">Total Agents</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">78.5</div>
              <div class="stat-label">Total Hours</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">8</div>
              <div class="stat-label">On Queue Now</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">92%</div>
              <div class="stat-label">Coverage</div>
            </div>
          </div>

          <!-- Schedule Header -->
          <div class="schedule-header">
            <div class="schedule-date">
              <div class="date-info">
                <div class="date-display">Monday, February 2, 2026</div>
                <div class="day-indicator">Day 1 of 7</div>
              </div>
              <div class="date-navigation">
                <button class="nav-btn" id="prevDayBtn">‚óÄ Previous</button>
                <button class="nav-btn" id="todayBtn">Today</button>
                <button class="nav-btn" id="nextDayBtn">Next ‚ñ∂</button>
              </div>
            </div>
            
            <div class="interval-selector">
              <span style="font-size: 14px; font-weight: 600; color: var(--text-color);">Interval:</span>
              <div class="interval-buttons">
                <button class="interval-btn active" data-interval="30">30 min</button>
                <button class="interval-btn" data-interval="60">60 min</button>
                <button class="interval-btn" data-interval="15">15 min</button>
              </div>
            </div>
          </div>

          <!-- Schedule Grid -->
          <div class="schedule-grid-container">
            <div class="schedule-grid" id="scheduleGrid">
              <!-- Schedule grid will be generated by JavaScript -->
            </div>
          </div>

          <!-- Legend -->
          <div class="schedule-legend">
            <div class="legend-title">Activity Legend</div>
            <div class="legend-items">
              <div class="legend-item">
                <div class="legend-color activity-onqueue"></div>
                <span class="legend-label">On Queue</span>
              </div>
              <div class="legend-item">
                <div class="legend-color activity-break"></div>
                <span class="legend-label">Break</span>
              </div>
              <div class="legend-item">
                <div class="legend-color activity-lunch"></div>
                <span class="legend-label">Lunch</span>
              </div>
              <div class="legend-item">
                <div class="legend-color activity-meeting"></div>
                <span class="legend-label">Meeting</span>
              </div>
              <div class="legend-item">
                <div class="legend-color activity-coaching"></div>
                <span class="legend-label">Coaching</span>
              </div>
              <div class="legend-item">
                <div class="legend-color activity-training"></div>
                <span class="legend-label">Training</span>
              </div>
              <div class="legend-item">
                <div class="legend-color activity-vacation"></div>
                <span class="legend-label">Vacation</span>
              </div>
            </div>
          </div>

          <!-- Action Bar -->
          <div class="action-bar">
            <div class="action-buttons">
              <button class="primary-btn" id="publishBtn">üì§ Publish Schedule</button>
              <button class="secondary-btn" id="exportBtn">üì• Export to Excel</button>
              <button class="secondary-btn" id="printBtn">üñ®Ô∏è Print Schedule</button>
            </div>
            <div class="publish-info">
              Last published: <span class="publish-date">January 28, 2026</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Agent Management Tab -->
      <div class="tab-content" id="agentsTab">
        <div class="schedule-view">
          <div class="schedule-header">
            <h2 style="margin: 0; font-size: 24px; color: var(--text-color);">Agent Management</h2>
          </div>
          <div style="padding: 24px;">
            <p style="color: var(--text-light);">Agent management features would go here.</p>
          </div>
        </div>
      </div>

      <!-- Reports Tab -->
      <div class="tab-content" id="reportsTab">
        <div class="schedule-view">
          <div class="schedule-header">
            <h2 style="margin: 0; font-size: 24px; color: var(--text-color);">Reports</h2>
          </div>
          <div style="padding: 24px;">
            <p style="color: var(--text-light);">Reporting features would go here.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Activity Editor Modal -->
  <div class="activity-editor" id="activityEditor">
    <div class="editor-modal">
      <div class="editor-header">
        <h3>Schedule Activity</h3>
        <button class="editor-close" id="closeEditorBtn">&times;</button>
      </div>
      <div class="editor-body">
        <div id="editorAgentInfo" style="margin-bottom: 20px; padding: 12px; background: var(--light-bg); border-radius: 6px;">
          <strong style="color: var(--text-color);">Agent:</strong> <span id="editorAgentName">-</span><br>
          <strong style="color: var(--text-color);">Time:</strong> <span id="editorTimeSlot">-</span>
        </div>
        
        <div class="activity-options" id="activityOptions">
          <!-- Activity options will be populated by JavaScript -->
        </div>
        
        <div class="duration-selector">
          <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-color);">Duration</label>
          <div class="duration-buttons" id="durationButtons">
            <!-- Duration buttons will be populated by JavaScript -->
          </div>
        </div>
        
        <div style="margin-top: 24px; display: flex; gap: 12px;">
          <button class="primary-btn" id="saveActivityBtn" style="flex: 1;">Save Activity</button>
          <button class="secondary-btn" id="clearActivityBtn" style="flex: 1;">Clear Slot</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Sample data for agents
    const agents = [
      { id: 1, name: "Gerard McGlynn", dailyHours: 10, weeklyHours: 40, avatar: "GM" },
      { id: 2, name: "Matthew Layton-Morris", dailyHours: 10, weeklyHours: 40, avatar: "ML" },
      { id: 3, name: "Iain Bennett", dailyHours: 10, weeklyHours: 40, avatar: "IB" },
      { id: 4, name: "Rhys Turner", dailyHours: 7.5, weeklyHours: 37.5, avatar: "RT" },
      { id: 5, name: "Paul Malen", dailyHours: 7.5, weeklyHours: 37.5, avatar: "PM" },
      { id: 6, name: "Freya DiBernardo", dailyHours: 7.5, weeklyHours: 37.5, avatar: "FD" },
      { id: 7, name: "Beccy Hunt", dailyHours: 7.5, weeklyHours: 37.5, avatar: "BH" },
      { id: 8, name: "Tom Wills", dailyHours: 7.5, weeklyHours: 37.5, avatar: "TW" },
      { id: 9, name: "Annabelle Goymer", dailyHours: 7.5, weeklyHours: 37.5, avatar: "AG" }
    ];

    // Sample schedule data for February 2, 2026
    const scheduleData = {
      date: "2026-02-02",
      dayOfWeek: "Monday",
      activities: {
        1: { // Gerard McGlynn
          14: { type: "onqueue", duration: 2 }, // 7am-9am
          18: { type: "break", duration: 1 },   // 9am-9:30am
          20: { type: "onqueue", duration: 4 }, // 9:30am-11:30am
          28: { type: "lunch", duration: 2 },   // 11:30am-12:30pm
          30: { type: "onqueue", duration: 6 }, // 12:30pm-3:30pm
          42: { type: "break", duration: 1 },   // 3:30pm-4pm
          44: { type: "onqueue", duration: 4 }  // 4pm-6pm
        },
        2: { // Matthew Layton-Morris
          16: { type: "onqueue", duration: 4 }, // 8am-10am
          24: { type: "break", duration: 1 },   // 10am-10:30am
          26: { type: "onqueue", duration: 4 }, // 10:30am-12:30pm
          34: { type: "lunch", duration: 2 },   // 12:30pm-1:30pm
          36: { type: "onqueue", duration: 6 }, // 1:30pm-4:30pm
          48: { type: "break", duration: 1 },   // 4:30pm-5pm
          50: { type: "onqueue", duration: 4 }  // 5pm-7pm
        },
        3: { // Iain Bennett
          14: { type: "onqueue", duration: 2 }, // 7am-9am
          18: { type: "break", duration: 1 },   // 9am-9:30am
          20: { type: "onqueue", duration: 4 }, // 9:30am-11:30am
          28: { type: "lunch", duration: 2 },   // 11:30am-12:30pm
          30: { type: "meeting", duration: 4 }, // 12:30pm-2:30pm
          38: { type: "onqueue", duration: 6 }  // 2:30pm-5:30pm
        },
        4: { // Rhys Turner
          16: { type: "onqueue", duration: 4 }, // 8am-10am
          24: { type: "break", duration: 1 },   // 10am-10:30am
          26: { type: "onqueue", duration: 4 }, // 10:30am-12:30pm
          34: { type: "lunch", duration: 2 },   // 12:30pm-1:30pm
          36: { type: "coaching", duration: 2 },// 1:30pm-2:30pm
          40: { type: "onqueue", duration: 6 }  // 2:30pm-5:30pm
        },
        5: { // Paul Malen
          18: { type: "onqueue", duration: 4 }, // 9am-11am
          26: { type: "break", duration: 1 },   // 11am-11:30am
          28: { type: "onqueue", duration: 4 }, // 11:30am-1:30pm
          36: { type: "lunch", duration: 2 },   // 1:30pm-2:30pm
          38: { type: "onqueue", duration: 6 }  // 2:30pm-5:30pm
        },
        6: { // Freya DiBernardo
          20: { type: "onqueue", duration: 4 }, // 10am-12pm
          28: { type: "break", duration: 1 },   // 12pm-12:30pm
          30: { type: "onqueue", duration: 4 }, // 12:30pm-2:30pm
          38: { type: "lunch", duration: 2 },   // 2:30pm-3:30pm
          40: { type: "training", duration: 4 } // 3:30pm-5:30pm
        },
        7: { // Beccy Hunt
          22: { type: "onqueue", duration: 4 }, // 11am-1pm
          30: { type: "break", duration: 1 },   // 1pm-1:30pm
          32: { type: "onqueue", duration: 4 }, // 1:30pm-3:30pm
          40: { type: "lunch", duration: 2 },   // 3:30pm-4:30pm
          42: { type: "onqueue", duration: 6 }  // 4:30pm-7:30pm
        },
        8: { // Tom Wills
          24: { type: "onqueue", duration: 4 }, // 12pm-2pm
          32: { type: "break", duration: 1 },   // 2pm-2:30pm
          34: { type: "onqueue", duration: 4 }, // 2:30pm-4:30pm
          42: { type: "lunch", duration: 2 },   // 4:30pm-5:30pm
          44: { type: "onqueue", duration: 6 }  // 5:30pm-8:30pm
        },
        9: { // Annabelle Goymer
          26: { type: "onqueue", duration: 4 }, // 1pm-3pm
          34: { type: "break", duration: 1 },   // 3pm-3:30pm
          36: { type: "onqueue", duration: 4 }, // 3:30pm-5:30pm
          44: { type: "lunch", duration: 2 },   // 5:30pm-6:30pm
          46: { type: "onqueue", duration: 6 }  // 6:30pm-9:30pm
        }
      }
    };

    // Activity types
    const activityTypes = [
      { id: "onqueue", name: "On Queue", color: "activity-onqueue" },
      { id: "break", name: "Break", color: "activity-break" },
      { id: "lunch", name: "Lunch", color: "activity-lunch" },
      { id: "meeting", name: "Meeting", color: "activity-meeting" },
      { id: "coaching", name: "Coaching", color: "activity-coaching" },
      { id: "training", name: "Training", color: "activity-training" },
      { id: "vacation", name: "Vacation", color: "activity-vacation" },
      { id: "unavailable", name: "Unavailable", color: "activity-unavailable" }
    ];

    // Duration options (in 30-minute intervals)
    const durationOptions = [1, 2, 3, 4, 6, 8];

    // Current state
    let currentDate = new Date("2026-02-02");
    let selectedAgent = null;
    let selectedCell = null;
    let currentInterval = 30; // minutes

    // DOM Elements
    const agentList = document.getElementById("agentList");
    const scheduleGrid = document.getElementById("scheduleGrid");
    const activityEditor = document.getElementById("activityEditor");
    const closeEditorBtn = document.getElementById("closeEditorBtn");
    const editorAgentName = document.getElementById("editorAgentName");
    const editorTimeSlot = document.getElementById("editorTimeSlot");
    const activityOptions = document.getElementById("activityOptions");
    const durationButtons = document.getElementById("durationButtons");
    const saveActivityBtn = document.getElementById("saveActivityBtn");
    const clearActivityBtn = document.getElementById("clearActivityBtn");
    const prevDayBtn = document.getElementById("prevDayBtn");
    const todayBtn = document.getElementById("todayBtn");
    const nextDayBtn = document.getElementById("nextDayBtn");
    const publishBtn = document.getElementById("publishBtn");
    const intervalButtons = document.querySelectorAll(".interval-btn");

    // Initialize
    function init() {
      renderAgentList();
      renderScheduleGrid();
      setupEventListeners();
      updateCurrentTime();
      setInterval(updateCurrentTime, 60000); // Update every minute
    }

    // Render agent list
    function renderAgentList() {
      agentList.innerHTML = "";
      
      agents.forEach(agent => {
        const agentItem = document.createElement("div");
        agentItem.className = "agent-item";
        agentItem.dataset.agentId = agent.id;
        
        agentItem.innerHTML = `
          <div class="agent-name">${agent.name}</div>
          <div class="agent-hours">
            <div class="agent-hour">
              <div class="hour-label">Daily</div>
              <div class="hour-value">${agent.dailyHours}h</div>
            </div>
            <div class="agent-hour">
              <div class="hour-label">Weekly</div>
              <div class="hour-value">${agent.weeklyHours}h</div>
            </div>
          </div>
        `;
        
        agentItem.addEventListener("click", () => {
          document.querySelectorAll(".agent-item").forEach(item => {
            item.classList.remove("selected");
          });
          agentItem.classList.add("selected");
          selectedAgent = agent.id;
          
          // Scroll to agent row
          const agentRow = document.querySelector(`.agent-row[data-agent-id="${agent.id}"]`);
          if (agentRow) {
            const cell = agentRow.querySelector(".agent-name-cell");
            cell.scrollIntoView({ behavior: "smooth", block: "nearest", inline: "start" });
          }
        });
        
        agentList.appendChild(agentItem);
      });
    }

    // Render schedule grid
    function renderScheduleGrid() {
      scheduleGrid.innerHTML = "";
      
      // Create time headers (7am to 11pm in 30-minute intervals)
      createTimeHeaders();
      
      // Create agent rows
      agents.forEach(agent => {
        createAgentRow(agent);
      });
    }

    // Create time headers
    function createTimeHeaders() {
      // Empty cell for agent names column
      const timeHeader = document.createElement("div");
      timeHeader.className = "time-header";
      timeHeader.innerHTML = '<div class="time-header-content">Agent / Time</div>';
      scheduleGrid.appendChild(timeHeader);
      
      // Create hour headers (7am to 11pm)
      for (let hour = 7; hour <= 23; hour++) {
        const hourHeader = document.createElement("div");
        hourHeader.className = "hour-header";
        hourHeader.textContent = formatHour(hour);
        hourHeader.style.gridColumn = `span 4`; // 2 hours in 30-min intervals
        scheduleGrid.appendChild(hourHeader);
        
        // Create half-hour headers
        for (let half = 0; half < 2; half++) {
          const halfHourHeader = document.createElement("div");
          halfHourHeader.className = "half-hour-header";
          halfHourHeader.textContent = half === 0 ? "00" : "30";
          scheduleGrid.appendChild(halfHourHeader);
        }
      }
    }

    // Create agent row
    function createAgentRow(agent) {
      const agentRow = document.createElement("div");
      agentRow.className = "agent-row";
      agentRow.dataset.agentId = agent.id;
      
      // Agent name cell
      const agentNameCell = document.createElement("div");
      agentNameCell.className = "agent-name-cell";
      agentNameCell.innerHTML = `
        <div class="agent-avatar">${agent.avatar}</div>
        <span>${agent.name}</span>
      `;
      agentRow.appendChild(agentNameCell);
      
      // Create schedule cells (7am to 11pm in 30-minute intervals)
      const totalIntervals = 34; // 7am-11pm = 16 hours * 2 = 32 intervals, plus 2 for 11pm-12am
      
      for (let interval = 0; interval < totalIntervals; interval++) {
        const cell = document.createElement("div");
        cell.className = "schedule-cell";
        cell.dataset.agentId = agent.id;
        cell.dataset.interval = interval;
        
        // Calculate actual time slot index (starting from 7am = index 14 in 30-min intervals from midnight)
        const timeSlotIndex = 14 + interval;
        
        // Check if there's an activity for this time slot
        const agentActivities = scheduleData.activities[agent.id];
        let activity = null;
        
        if (agentActivities) {
          // Find activity that covers this time slot
          for (const [start, activityData] of Object.entries(agentActivities)) {
            const startIndex = parseInt(start);
            const endIndex = startIndex + activityData.duration;
            
            if (timeSlotIndex >= startIndex && timeSlotIndex < endIndex) {
              activity = activityData;
              break;
            }
          }
        }
        
        if (activity) {
          const activityType = activityTypes.find(type => type.id === activity.type);
          if (activityType) {
            const activityBlock = document.createElement("div");
            activityBlock.className = `activity-block ${activityType.color}`;
            activityBlock.textContent = activityType.name.substring(0, 3);
            activityBlock.title = `${activityType.name} (${formatTimeFromIndex(timeSlotIndex)} - ${formatTimeFromIndex(timeSlotIndex + 1)})`;
            cell.appendChild(activityBlock);
          }
        }
        
        // Add click event
        cell.addEventListener("click", () => {
          selectedCell = cell;
          selectedAgent = agent.id;
          openActivityEditor(agent, timeSlotIndex);
        });
        
        agentRow.appendChild(cell);
      }
      
      scheduleGrid.appendChild(agentRow);
    }

    // Open activity editor
    function openActivityEditor(agent, timeSlotIndex) {
      editorAgentName.textContent = agent.name;
      editorTimeSlot.textContent = `${formatTimeFromIndex(timeSlotIndex)} - ${formatTimeFromIndex(timeSlotIndex + 1)}`;
      
      // Populate activity options
      activityOptions.innerHTML = "";
      activityTypes.forEach(type => {
        const option = document.createElement("div");
        option.className = "activity-option";
        option.dataset.activityType = type.id;
        option.innerHTML = `
          <div style="width: 24px; height: 24px; border-radius: 4px; margin: 0 auto 8px; background: linear-gradient(135deg, var(--schedule-${type.id}), #000);"></div>
          <div style="font-size: 12px; font-weight: 600;">${type.name}</div>
        `;
        
        option.addEventListener("click", () => {
          document.querySelectorAll(".activity-option").forEach(opt => {
            opt.classList.remove("selected");
          });
          option.classList.add("selected");
        });
        
        activityOptions.appendChild(option);
      });
      
      // Populate duration buttons
      durationButtons.innerHTML = "";
      durationOptions.forEach(duration => {
        const btn = document.createElement("button");
        btn.className = "duration-btn";
        btn.textContent = `${duration * 30} min`;
        btn.dataset.duration = duration;
        
        btn.addEventListener("click", () => {
          document.querySelectorAll(".duration-btn").forEach(b => {
            b.classList.remove("selected");
          });
          btn.classList.add("selected");
        });
        
        durationButtons.appendChild(btn);
      });
      
      activityEditor.style.display = "flex";
    }

    // Format hour for display
    function formatHour(hour) {
      const period = hour >= 12 ? "pm" : "am";
      const displayHour = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
      return `${displayHour} ${period}`;
    }

    // Format time from interval index
    function formatTimeFromIndex(index) {
      // Each index represents 30 minutes, starting from midnight
      const totalMinutes = index * 30;
      const hours = Math.floor(totalMinutes / 60);
      const minutes = totalMinutes % 60;
      const period = hours >= 12 ? "pm" : "am";
      const displayHour = hours > 12 ? hours - 12 : hours === 0 ? 12 : hours;
      return `${displayHour}:${minutes.toString().padStart(2, '0')} ${period}`;
    }

    // Update current time indicator
    function updateCurrentTime() {
      // Remove existing current time indicator
      const existingIndicator = document.querySelector(".current-time");
      if (existingIndicator) {
        existingIndicator.remove();
      }
      
      const now = new Date();
      const currentHour = now.getHours();
      const currentMinute = now.getMinutes();
      
      // Calculate grid position (assuming 7am start)
      const startHour = 7;
      const totalMinutes = (currentHour - startHour) * 60 + currentMinute;
      
      if (totalMinutes >= 0 && totalMinutes <= 16 * 60) { // 7am to 11pm
        const gridPosition = (totalMinutes / 30) * 60; // Each 30-min interval = 60px
        
        const indicator = document.createElement("div");
        indicator.className = "current-time";
        indicator.style.left = `${200 + gridPosition}px`; // 200px for agent column
        
        document.querySelector(".schedule-grid-container").appendChild(indicator);
      }
    }

    // Setup event listeners
    function setupEventListeners() {
      // Tab switching
      document.querySelectorAll(".tab").forEach(tab => {
        tab.addEventListener("click", () => {
          const tabId = tab.dataset.tab;
          
          document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
          tab.classList.add("active");
          
          document.querySelectorAll(".tab-content").forEach(content => {
            content.classList.remove("active");
          });
          
          document.getElementById(`${tabId}Tab`).classList.add("active");
        });
      });
      
      // Activity editor
      closeEditorBtn.addEventListener("click", () => {
        activityEditor.style.display = "none";
      });
      
      saveActivityBtn.addEventListener("click", () => {
        const selectedActivity = document.querySelector(".activity-option.selected");
        const selectedDuration = document.querySelector(".duration-btn.selected");
        
        if (selectedActivity && selectedDuration && selectedCell) {
          const activityType = selectedActivity.dataset.activityType;
          const duration = parseInt(selectedDuration.dataset.duration);
          const timeSlotIndex = parseInt(selectedCell.dataset.interval) + 14; // Adjust for 7am start
          
          // Update schedule data
          if (!scheduleData.activities[selectedAgent]) {
            scheduleData.activities[selectedAgent] = {};
          }
          
          // Clear any overlapping activities
          Object.keys(scheduleData.activities[selectedAgent]).forEach(start => {
            const activity = scheduleData.activities[selectedAgent][start];
            const end = parseInt(start) + activity.duration;
            
            if (timeSlotIndex < end && (timeSlotIndex + duration) > parseInt(start)) {
              delete scheduleData.activities[selectedAgent][start];
            }
          });
          
          // Add new activity
          scheduleData.activities[selectedAgent][timeSlotIndex] = {
            type: activityType,
            duration: duration
          };
          
          // Update UI
          renderScheduleGrid();
          activityEditor.style.display = "none";
        }
      });
      
      clearActivityBtn.addEventListener("click", () => {
        if (selectedCell && selectedAgent) {
          const timeSlotIndex = parseInt(selectedCell.dataset.interval) + 14;
          
          // Find and remove activity
          if (scheduleData.activities[selectedAgent]) {
            Object.keys(scheduleData.activities[selectedAgent]).forEach(start => {
              const activity = scheduleData.activities[selectedAgent][start];
              const end = parseInt(start) + activity.duration;
              
              if (timeSlotIndex >= parseInt(start) && timeSlotIndex < end) {
                delete scheduleData.activities[selectedAgent][start];
              }
            });
          }
          
          // Update UI
          renderScheduleGrid();
          activityEditor.style.display = "none";
        }
      });
      
      // Date navigation
      prevDayBtn.addEventListener("click", () => {
        currentDate.setDate(currentDate.getDate() - 1);
        updateDateDisplay();
      });
      
      todayBtn.addEventListener("click", () => {
        currentDate = new Date();
        updateDateDisplay();
      });
      
      nextDayBtn.addEventListener("click", () => {
        currentDate.setDate(currentDate.getDate() + 1);
        updateDateDisplay();
      });
      
      // Interval buttons
      intervalButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          intervalButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          currentInterval = parseInt(btn.dataset.interval);
          // Note: In a full implementation, this would regenerate the grid with the new interval
        });
      });
      
      // Publish button
      publishBtn.addEventListener("click", () => {
        const today = new Date();
        const publishDate = today.toLocaleDateString("en-GB", {
          year: "numeric",
          month: "long",
          day: "numeric"
        });
        
        // Update publish info
        document.querySelector(".publish-date").textContent = publishDate;
        
        // Show success message
        alert(`Schedule published successfully!\n\nPublished on: ${publishDate}\nThe schedule is now visible to all team members.`);
      });
      
      // Close editor when clicking outside
      activityEditor.addEventListener("click", (e) => {
        if (e.target === activityEditor) {
          activityEditor.style.display = "none";
        }
      });
    }

    // Update date display
    function updateDateDisplay() {
      const dayOfWeek = currentDate.toLocaleDateString("en-GB", { weekday: "long" });
      const dateStr = currentDate.toLocaleDateString("en-GB", {
        year: "numeric",
        month: "long",
        day: "numeric"
      });
      
      document.querySelector(".date-display").textContent = `${dayOfWeek}, ${dateStr}`;
    }

    // Initialize the application
    init();
  </script>
</body>
</html>
